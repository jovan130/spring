{{> header}}

<div class="table-page-container">
    <div class="table-content-wrapper">
        <button id="newPostBtn" class="btn-new-post">
            <i class="fas fa-plus"></i> Add New
        </button>
        <div class="dataTables-container">
            <table id="dataTable" class="display compact stripe hover" style="width:100%">
                <thead>
                <tr>
                    <th>AppVersion</th>
                    <th>Filename</th>
                    <th>Date Uploaded</th>
                    <th>Comments</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                {{#posts}}
                    <tr>
                        <td>{{appVersion}}</td>
                        <td>{{filename}}</td>
                        <td>{{dateUploaded}}</td>
                        <td>{{comments}}</td>
                        <td>
                            <button class="btn-view" data-id="{{appVersion}}">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="btn-edit" data-id="{{appVersion}}">
                                <i class="fas fa-edit"></i>
                            </button>
                        </td>
                    </tr>
                {{/posts}}
                </tbody>
            </table>
        </div>
    </div>
</div>



<div id="newPostModal" class="modal-overlay">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">Create New Entry</h3>
            <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <form id="postForm">
                <div class="form-group">
                    <label for="appVersion" class="form-label">App Version</label>
                    <input type="text" id="appVersion" class="form-control" required>
                </div>

                <div class="form-group">
                    <label for="comment" class="form-label">Comment</label>
                    <textarea id="comment" class="form-control" required></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">Firmware File</label>
                    <div id="dropzone" class="dropzone">
                        <div class="dropzone-icon">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <div class="dropzone-text">Drag & drop your file here</div>
                        <div class="dropzone-hint">or click to browse</div>
                        <input type="file" id="fileInput" style="display: none;">
                    </div>
                    <div id="filePreview" class="file-preview"></div>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button class="btn-cancel">Cancel</button>
            <button id="submit" class="btn-submit">Create</button>
        </div>
    </div>
</div>

{{> footer}}
